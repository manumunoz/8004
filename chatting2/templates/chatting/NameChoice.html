{% extends "global/Page.html" %}
{% load otree static %}

{% block title %}
<div class="container">
    <div class="row">
      <div class="col-sm-12 border border-dark text-white rounded" id="upper">
          <h2>Part {{ Constants.part_name }}: <span id="lower"> Your group</span></h2>
      </div>
    </div>
</div>
{% endblock %}

{% block content %}
<div class="container">
    <div class="row">
      <div class="col-sm-12 border rounded" id="network">
        <p>
            Here we explain the visual information of your group (how you will be represented on the screen).
            This information will be useful for the other parts of the experiment.
            In this part you will also make a decision with the other players assigned to your group: you will choose a
            name for your group. This is explained below:
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-6 border rounded" id="network">
        <h5>1. Group image</h5>
        <p>
            {% if player.given_type == 1 %}
            You are assigned to the <b>group</b> <span id='symbol'>&#9679</span> (internal symbol)
            and your <b>appearance</b> is <span id='symbol'>&#9711</span> (external symbol).
            <br><br>
            There are {{ Constants.total_circles }} players in your group <span id='symbol'>&#9679</span>, including yourself.
            There are {{ Constants.total_triangles }} players in group <span id='symbol'>&#9650</span>.
            <br><br>
            Each player in your group will be displayed on the screen using the image below:
            <br><br>
            <img width="50%" src="{% static "switch_p1/Img_T1.jpeg" %}"/>
            <br><br>
            In the box on the right you can chat with the other participants in <span id='symbol'>&#9679</span> and
            choose a name for your group, <i>by clicking on the button with the name you prefer as a group</i>.<b>To choose
            a name, all {{ Constants.total_circles }} players in your group must click on the same button</b>.

            {% elif player.given_type == 4 %}
            You are assigned to the <b>group</b> <span id='symbol'>&#9650</span> (internal symbol)
            and your <b>appearance</b> is <span id='symbol'>&#9651</span> (external symbol).
            <br><br>
            There are {{ Constants.total_triangles }} players in your group <span id='symbol'>&#9650</span>, including yourself.
            There are {{ Constants.total_circles }} players in group <span id='symbol'>&#9679</span>.
            <br><br>
            Each player in your group will be displayed on the screen using the image below:
            <br><br>
            <img width="50%" src="{% static "switch_p1/Img_T2.jpeg" %}"/>
            <br><br>
            In the box on the right you can chat with the other participants in <span id='symbol'>&#9650</span> and
            choose a name for your group, <i>by clicking on the button with the name you prefer as a group</i>. <b>To choose
            a name, all {{ Constants.total_triangles }} players in your group must click on the same button</b>.
            {% endif %}
        </p>
      </div>
      <div class="col-sm-6 border rounded" id="network">
        <div>
          <h5>2. Group name</h5>
          <p>
              In the chat box below, you will be labeled as <b>Player {{ player.role }}</b>. You are not allowed to use any
              offensive language. Also, to preserve anonymity you cannot send any information that can help others
              identify who you are.
              <br><br>
              <i>Write on the chat box to communicate with others in your group.</i>
          </p>
        </div>
        <div>
              {% chat nickname=player.chat_nickname channel=player.given_type %}
        </div>
        <div id="centering">
            <br>
          <p>
              <b>Click on the button with the name your group has chosen</b>.
          </p>
            <input type="hidden" value="0" name="group_name" id="group_name"/>
            {% if player.given_type == 1 %}
            <button type="otree-btn-next" class="btn button btn-lg" onclick="$('#group_name').val(1)">{{Constants.group_a}}</button>
            <button type="otree-btn-next" class="btn button btn-lg" onclick="$('#group_name').val(2)">{{Constants.group_b}}</button>
            <button type="otree-btn-next" class="btn button btn-lg" onclick="$('#group_name').val(3)">{{Constants.group_c}}</button>
            <br>
            <button type="otree-btn-next" class="btn button btn-lg" onclick="$('#group_name').val(4)">{{Constants.group_d}}</button>
            <button type="otree-btn-next" class="btn button btn-lg" onclick="$('#group_name').val(5)">{{Constants.group_e}}</button>
            {% elif player.given_type == 4 %}
            <button type="otree-btn-next" class="btn button btn-lg" onclick="$('#group_name').val(6)">{{Constants.group_f}}</button>
            <button type="otree-btn-next" class="btn button btn-lg" onclick="$('#group_name').val(7)">{{Constants.group_g}}</button>
            <button type="otree-btn-next" class="btn button btn-lg" onclick="$('#group_name').val(8)">{{Constants.group_h}}</button>
            <br>
            <button type="otree-btn-next" class="btn button btn-lg" onclick="$('#group_name').val(9)">{{Constants.group_i}}</button>
            <button type="otree-btn-next" class="btn button btn-lg" onclick="$('#group_name').val(10)">{{Constants.group_j}}</button>
            {% endif %}
        </div>
      </div>
    </div>
</div>
{% endblock %}

{% block styles %}
    <style type="text/css">
        img {
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        .button {
            background-color: #000000;
            color: #EEE8AA;
            border: 2px solid #EEE8AA
        }
        .button:hover {
            background-color: #EEE8AA;
            color: #000000;
            border: 2px solid #000000
        }
        #upper{
            background-color: #000000;
        }
        #middle{
            background-color: #424242;
        }
        #lower{
            color: #EEE8AA
        }
        #network{
            background-color: #ffffff;
        }
        #symbol{
            color: #616161;
        }
        .otree-chat__messages {
            height: 400px;
        }
        .otree-chat__nickname {
            color: #000000;
            font-weight: bold;
        }
        #centering{
            text-align: center
        }
    </style>
{% endblock %}